<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CARBON</title>
    <script defer async>
      function setConfig() {
        tailwind.config = {
          theme: {
            extend: {
              fontFamily: {
                display: ["Inter", "system-ui", "sans-serif"],
                inter: ["Inter", "system-ui", "sans-serif"],
              },
              colors: {
                base: "#191724",
                surface: "#1f1d2e",
                overlay: "#26233a",
                muted: "#6e6a86",
                subtle: "#908caa",
                text: "#e0def4",
                love: "#eb6f92",
                gold: "#f6c177",
                rose: "#ebbcba",
                pine: "#31748f",
                foam: "#9ccfd8",
                iris: "#c4a7e7",
                "highlight-low": "#21202e",
                "highlight-med": "#403d52",
                "highlight-high": "#524f67",
              },
              backdropBlur: {
                xs: '2px',
              },
              animation: {
                'fade-in': 'fadeIn 0.2s ease-out',
                'slide-up': 'slideUp 0.3s ease-out',
                'bounce-subtle': 'bounceSubtle 0.4s ease-out',
              },
              keyframes: {
                fadeIn: {
                  '0%': { opacity: '0' },
                  '100%': { opacity: '1' },
                },
                slideUp: {
                  '0%': { transform: 'translateY(10px)', opacity: '0' },
                  '100%': { transform: 'translateY(0)', opacity: '1' },
                },
                bounceSubtle: {
                  '0%, 20%, 50%, 80%, 100%': { transform: 'translateY(0)' },
                  '40%': { transform: 'translateY(-2px)' },
                  '60%': { transform: 'translateY(-1px)' },
                },
              },
            },
          },
        };
      }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script
      defer
      async
      src="https://cdn.tailwindcss.com"
      onload="setConfig()"
    ></script>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <style>
      .glass-effect {
        background: rgba(31, 29, 46, 0.8);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(224, 222, 244, 0.1);
      }
      
      .suggestion-box {
        position: absolute;
        left: 0;
        right: 0;
        top: 100%;
        z-index: 1200;
        background: rgba(31, 29, 46, 0.95);
        backdrop-filter: blur(16px);
        border-radius: 0 0 16px 16px;
        border: 1px solid rgba(38, 35, 58, 0.8);
        border-top: none;
        max-height: 240px;
        overflow-y: auto;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        color: #e0def4;
        font-size: 0.95rem;
        width: 100%;
      }
      
      .suggestion-item {
        padding: 12px 16px;
        cursor: pointer;
        transition: all 0.2s ease;
        border-bottom: 1px solid rgba(38, 35, 58, 0.5);
      }
      
      .suggestion-item:last-child {
        border-bottom: none;
      }
      
      .suggestion-item:hover,
      .suggestion-item.active {
        background: rgba(156, 207, 216, 0.1);
        color: #9ccfd8;
        transform: translateX(2px);
      }
      
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      
      .modern-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      
      .modern-scrollbar::-webkit-scrollbar-track {
        background: rgba(33, 32, 46, 0.3);
        border-radius: 3px;
      }
      
      .modern-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(156, 207, 216, 0.3);
        border-radius: 3px;
        transition: background 0.2s ease;
      }
      
      .modern-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(156, 207, 216, 0.5);
      }
      
      .tab-item {
        position: relative;
        overflow: hidden;
      }
      
      .tab-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, rgba(156, 207, 216, 0.6), transparent);
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      
      .tab-item.active::before {
        opacity: 1;
      }
      
      .vertical-tabs-container {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: 320px;
        background: rgba(31, 29, 46, 0.95);
        backdrop-filter: blur(20px);
        border-right: 1px solid rgba(38, 35, 58, 0.8);
        z-index: 1000;
        transform: translateX(-100%);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 4px 0 24px rgba(0, 0, 0, 0.3);
      }
      
      .vertical-tabs-container.open {
        transform: translateX(0);
      }
      
      .content-with-vertical-tabs {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .content-with-vertical-tabs.with-sidebar {
        margin-left: 320px;
      }
      
      .floating-controls {
        position: fixed;
        bottom: 24px;
        right: 24px;
        z-index: 100;
        display: flex;
        gap: 12px;
      }
      
      .floating-btn {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: rgba(156, 207, 216, 0.9);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(156, 207, 216, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #191724;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 16px rgba(156, 207, 216, 0.3);
      }
      
      .floating-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(156, 207, 216, 0.4);
        background: rgba(156, 207, 216, 1);
      }
      
      .address-bar-container {
        position: relative;
        background: rgba(64, 61, 82, 0.6);
        border: 1px solid rgba(224, 222, 244, 0.1);
        border-radius: 12px;
        transition: all 0.3s ease;
      }
      
      .address-bar-container:focus-within {
        background: rgba(64, 61, 82, 0.8);
        border-color: rgba(156, 207, 216, 0.5);
        box-shadow: 0 0 0 3px rgba(156, 207, 216, 0.1);
      }
      
      .modern-button {
        position: relative;
        overflow: hidden;
        transition: all 0.2s ease;
      }
      
      .modern-button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        transform: translate(-50%, -50%);
      }
      
      .modern-button:hover::before {
        width: 100%;
        height: 100%;
      }
      
      .dropdown-modern {
        background: rgba(31, 29, 46, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(38, 35, 58, 0.8);
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
      }
      
      .modal-modern {
        background: rgba(31, 29, 46, 0.98);
        backdrop-filter: blur(24px);
        border: 1px solid rgba(38, 35, 58, 0.8);
        box-shadow: 0 16px 64px rgba(0, 0, 0, 0.5);
      }
      
      @keyframes pulse-glow {
        0%, 100% {
          box-shadow: 0 0 5px rgba(156, 207, 216, 0.3);
        }
        50% {
          box-shadow: 0 0 20px rgba(156, 207, 216, 0.6);
        }
      }
      
      .pulse-glow {
        animation: pulse-glow 2s infinite;
      }
    </style>
  </head>
  <body class="font-inter bg-gradient-to-br from-base via-surface to-overlay min-h-screen text-text overflow-hidden">
    <main class="flex flex-col h-screen">
      <!-- Modern Browser Window -->
      <div class="flex-1 flex flex-col glass-effect shadow-2xl border border-overlay/50 rounded-2xl overflow-hidden m-2">
        <!-- Modern Title Bar -->
        <div class="bg-gradient-to-r from-overlay/80 to-surface/60 border-b border-highlight-med/50 px-6 py-3 flex items-center justify-between backdrop-blur-xl">
          <div class="flex items-center gap-4">
            <div class="flex gap-2">
              <div class="w-3.5 h-3.5 bg-love rounded-full shadow-lg hover:shadow-love/30 transition-all cursor-pointer"></div>
              <div class="w-3.5 h-3.5 bg-gold rounded-full shadow-lg hover:shadow-gold/30 transition-all cursor-pointer"></div>
              <div class="w-3.5 h-3.5 bg-foam rounded-full shadow-lg hover:shadow-foam/30 transition-all cursor-pointer"></div>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-foam to-iris rounded-lg flex items-center justify-center shadow-lg">
                <i class="bx bx-planet text-base font-bold"></i>
              </div>
              <span class="text-sm font-semibold text-text tracking-wide">Carbon Browser</span>
            </div>
          </div>
          <div class="flex items-center gap-1">
            <button class="modern-button p-2 hover:bg-highlight-med rounded-lg transition-all">
              <i class="bx bx-minus text-muted hover:text-text"></i>
            </button>
            <button class="modern-button p-2 hover:bg-highlight-med rounded-lg transition-all">
              <i class="bx bx-square text-muted hover:text-text"></i>
            </button>
            <button class="modern-button p-2 hover:bg-love/20 hover:text-love rounded-lg transition-all">
              <i class="bx bx-x"></i>
            </button>
          </div>
        </div>

        <!-- Vertical Tabs Sidebar -->
        <div id="vertical-tabs-container" class="vertical-tabs-container">
          <div class="p-6 border-b border-highlight-med/50 bg-gradient-to-r from-surface/80 to-overlay/60">
            <h3 class="text-text font-semibold flex items-center gap-3 text-lg">
              <div class="w-8 h-8 bg-foam/20 rounded-lg flex items-center justify-center">
                <i class="bx bx-tab text-foam"></i>
              </div>
              All Tabs
            </h3>
          </div>
          <div id="vertical-tabs-list" class="overflow-y-auto flex-1 bg-gradient-to-b from-overlay/30 to-surface/20 modern-scrollbar p-4 space-y-2"></div>
        </div>

        <!-- Main Content Wrapper -->
        <div id="main-content-wrapper" class="content-with-vertical-tabs flex-1 flex flex-col">
          
          <!-- Modern Tab Bar -->
          <div class="bg-gradient-to-r from-overlay/60 to-surface/40 border-b border-highlight-med/30 flex items-end backdrop-blur-xl">
            <!-- Tabs Container -->
            <div
              id="tabs-bar"
              class="flex items-end flex-1 overflow-x-auto scrollbar-hide px-4 py-2 gap-1"
            ></div>
            
            <!-- Tab Controls -->
            <div class="flex items-center gap-2 px-4 pb-2">
              <button
                id="new-tab-btn"
                class="modern-button w-10 h-10 rounded-xl bg-foam/10 hover:bg-foam/20 text-foam hover:text-foam transition-all flex items-center justify-center shadow-lg hover:shadow-foam/20"
                title="New Tab (Ctrl+T)"
              >
                <i class="bx bx-plus text-lg font-bold"></i>
              </button>
              <button
                id="tabs-layout-toggle"
                class="modern-button w-10 h-10 rounded-xl bg-iris/10 hover:bg-iris/20 text-iris hover:text-iris transition-all flex items-center justify-center shadow-lg hover:shadow-iris/20"
                title="Show All Tabs"
              >
                <i class="bx bx-grid-alt text-lg"></i>
              </button>
            </div>
          </div>

          <!-- Modern Navigation Bar -->
          <div class="bg-gradient-to-r from-surface/80 to-overlay/40 border-b border-highlight-med/30 px-6 py-4 backdrop-blur-xl">
            <div class="flex items-center gap-4">
              <!-- Navigation Controls -->
              <div class="flex items-center gap-1">
                <button
                  id="back-btn"
                  class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed"
                  title="Go back"
                >
                  <i class="bx bx-chevron-left text-xl"></i>
                </button>
                <button
                  id="forward-btn"
                  class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed"
                  title="Go forward"
                >
                  <i class="bx bx-chevron-right text-xl"></i>
                </button>
                <button
                  id="refresh-btn"
                  class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center"
                  title="Reload"
                >
                  <i class="bx bx-refresh text-xl"></i>
                </button>
              </div>

              <!-- Modern Address Bar -->
              <form id="address-bar-form" class="flex-1 relative max-w-3xl">
                <div class="address-bar-container">
                  <div class="flex items-center">
                    <div class="flex items-center pl-4 pr-2">
                      <i class="bx bx-lock-alt text-foam text-sm mr-2"></i>
                      <span class="text-xs text-subtle font-medium">HTTPS</span>
                    </div>
                    <input
                      id="address-bar-input"
                      type="text"
                      spellcheck="false"
                      autocomplete="off"
                      placeholder="Search or enter website URL"
                      class="flex-1 h-12 px-4 bg-transparent text-text text-sm focus:outline-none placeholder-muted font-medium"
                    />
                    <button type="submit" class="modern-button p-3 mr-2 text-muted hover:text-foam hover:bg-foam/10 rounded-lg transition-all">
                      <i class="bx bx-search text-lg"></i>
                    </button>
                  </div>
                </div>
                <div id="suggestion-box" class="suggestion-box hidden"></div>
              </form>

              <!-- Modern Browser Controls -->
              <div class="flex items-center gap-2">
                <!-- Search Engine Selector -->
                <div class="relative">
                  <button
                    id="search-engine-btn"
                    class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center"
                    title="Search Engine"
                  >
                    <i id="search-engine-icon" class="bx bxl-google text-lg"></i>
                  </button>
                  <div
                    id="search-engine-dropdown"
                    class="hidden absolute right-0 top-12 dropdown-modern py-2 min-w-48 z-50"
                  >
                    <button
                      data-engine="https://www.google.com/search?q=%s"
                      class="w-full flex items-center gap-3 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm font-medium"
                    >
                      <i class="bx bxl-google text-foam"></i>Google
                    </button>
                    <button
                      data-engine="https://search.brave.com/search?q=%s"
                      class="w-full flex items-center gap-3 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm font-medium"
                    >
                      <i class="bx bxl-brave text-gold"></i>Brave
                    </button>
                    <button
                      data-engine="https://duckduckgo.com/?q=%s"
                      class="w-full flex items-center gap-3 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm font-medium"
                    >
                      <i class="bx bx-shield text-love"></i>DuckDuckGo
                    </button>
                  </div>
                </div>

                <!-- Proxy Toggle -->
                <div class="relative">
                  <button
                    id="proxy-toggle-btn"
                    class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center"
                    title="Proxy Settings"
                  >
                    <i id="proxy-toggle-icon" class="bx bx-shield text-lg"></i>
                  </button>
                  <div
                    id="proxy-dropdown"
                    class="hidden absolute right-0 top-12 dropdown-modern py-2 min-w-40 z-50"
                  >
                    <button
                      data-proxy="uv"
                      class="w-full flex items-center gap-3 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm font-medium"
                    >
                      <i class="bx bx-cloud text-foam"></i>UV
                    </button>
                    <button
                      data-proxy="scram"
                      class="w-full flex items-center gap-3 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm font-medium"
                    >
                      <i class="bx bx-network-chart text-pine"></i>Scramjet
                    </button>
                  </div>
                </div>

                <!-- Modern Menu -->
                <div class="relative">
                  <button
                    id="menu-btn"
                    class="modern-button w-10 h-10 rounded-xl bg-transparent hover:bg-highlight-med text-muted hover:text-text transition-all flex items-center justify-center"
                    title="Browser Menu"
                  >
                    <i class="bx bx-dots-horizontal-rounded text-lg"></i>
                  </button>
                  <div
                    id="dropdown-menu"
                    class="hidden absolute right-0 top-12 dropdown-modern py-3 min-w-72 z-50"
                  >
                    <!-- Tab Management -->
                    <div class="px-4 py-2 text-xs font-bold text-foam uppercase tracking-widest border-b border-highlight-med/30 mb-3">
                      Tab Management
                    </div>
                    <button
                      id="duplicate-active-tab-btn"
                      class="w-full flex items-center gap-4 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm group"
                    >
                      <div class="w-8 h-8 bg-foam/10 rounded-lg flex items-center justify-center group-hover:bg-foam/20 transition-all">
                        <i class="bx bx-copy text-foam"></i>
                      </div>
                      <span class="font-medium">Duplicate Tab</span>
                      <span class="ml-auto text-xs text-muted bg-highlight-med px-2 py-1 rounded">Ctrl+Shift+D</span>
                    </button>
                    <button
                      id="close-other-tabs-btn"
                      class="w-full flex items-center gap-4 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm group"
                    >
                      <div class="w-8 h-8 bg-love/10 rounded-lg flex items-center justify-center group-hover:bg-love/20 transition-all">
                        <i class="bx bx-x-circle text-love"></i>
                      </div>
                      <span class="font-medium">Close Other Tabs</span>
                    </button>
                    <button
                      id="reload-all-tabs-btn"
                      class="w-full flex items-center gap-4 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm group"
                    >
                      <div class="w-8 h-8 bg-pine/10 rounded-lg flex items-center justify-center group-hover:bg-pine/20 transition-all">
                        <i class="bx bx-refresh text-pine"></i>
                      </div>
                      <span class="font-medium">Reload All Tabs</span>
                    </button>

                    <!-- History & Tools -->
                    <div class="px-4 py-2 text-xs font-bold text-iris uppercase tracking-widest border-b border-highlight-med/30 mb-3 mt-4">
                      History & Tools
                    </div>
                    <button
                      id="history-btn"
                      class="w-full flex items-center gap-4 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm group"
                    >
                      <div class="w-8 h-8 bg-iris/10 rounded-lg flex items-center justify-center group-hover:bg-iris/20 transition-all">
                        <i class="bx bx-history text-iris"></i>
                      </div>
                      <span class="font-medium">Show History</span>
                    </button>
                    <button
                      id="clear-history-btn"
                      class="w-full flex items-center gap-4 px-4 py-3 text-text hover:bg-highlight-med/50 transition-all text-sm group"
                    >
                      <div class="w-8 h-8 bg-love/10 rounded-lg flex items-center justify-center group-hover:bg-love/20 transition-all">
                        <i class="bx bx-trash text-love"></i>
                      </div>
                      <span class="font-medium">Clear History</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content Area -->
          <div class="flex-1 bg-gradient-to-br from-base to-surface relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-foam/5 via-transparent to-iris/5"></div>
            <iframe
              id="proxy-iframe"
              title="Browser Content"
              class="w-full h-full border-0 bg-transparent relative z-10 rounded-bl-2xl rounded-br-2xl"
            ></iframe>
          </div>
          
        </div> <!-- End Main Content Wrapper -->
      </div> <!-- End Browser Window -->

      <!-- Floating Controls -->
      <div class="floating-controls">
        <button class="floating-btn" title="New Tab">
          <i class="bx bx-plus"></i>
        </button>
        <button class="floating-btn" title="Show All Tabs">
          <i class="bx bx-grid-alt"></i>
        </button>
      </div>

      <!-- Modern History Modal -->
      <div
        id="history-modal-bg"
        class="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300 z-50"
      >
        <div
          id="history-modal"
          class="modal-modern rounded-2xl max-w-lg w-[90vw] p-8 relative transform scale-95 opacity-0 transition-all duration-300"
        >
          <button
            id="close-history-modal"
            class="absolute top-6 right-6 w-8 h-8 bg-love/10 hover:bg-love/20 text-love rounded-lg flex items-center justify-center transition-all"
          >
            <i class="bx bx-x text-lg"></i>
          </button>
          <div class="flex items-center gap-4 mb-6">
            <div class="w-12 h-12 bg-gradient-to-br from-iris to-foam rounded-xl flex items-center justify-center">
              <i class="bx bx-history text-xl text-white"></i>
            </div>
            <h2 class="text-xl font-bold text-text">Tab History</h2>
          </div>
          <div
            id="modal-history-list"
            class="max-h-80 overflow-y-auto space-y-3 text-text modern-scrollbar"
          ></div>
        </div>
      </div>

      <!-- Modern Tab Context Menu Modal -->
      <div
        id="tab-context-menu-bg"
        class="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300 z-50"
      >
        <div
          id="tab-context-menu"
          class="modal-modern rounded-2xl max-w-md w-[90vw] p-8 relative transform scale-95 opacity-0 transition-all duration-300"
        >
          <button
            id="close-tab-context-menu"
            class="absolute top-6 right-6 w-8 h-8 bg-love/10 hover:bg-love/20 text-love rounded-lg flex items-center justify-center transition-all"
          >
            <i class="bx bx-x text-lg"></i>
          </button>
          
          <div class="flex items-center gap-4 mb-8">
            <div class="w-12 h-12 bg-gradient-to-br from-gold to-rose rounded-xl flex items-center justify-center">
              <i class="bx bx-cog text-xl text-white"></i>
            </div>
            <h2 class="text-xl font-bold text-text">Tab Settings</h2>
          </div>
          
          <!-- Rename Tab -->
          <div class="mb-6">
            <label class="block text-sm font-semibold text-text mb-3 flex items-center gap-2">
              <i class="bx bx-edit text-foam"></i>Custom Title
            </label>
            <input
              id="tab